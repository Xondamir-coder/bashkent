import{_ as N}from"./BCGdFwqn.js";import{_ as D,s as L,U as M,X as R,Y as q,V as P,Z as v,r as g,v as c,f as U,g as O,c as o,a as n,b as T,j as e,t as b,F as f,x as k,o as r,$ as V,n as F,a0 as W,W as Y}from"./DjQ1e48x.js";import{S as j}from"./Cpc1cBKW.js";import{u as z}from"./DCS4Z9oc.js";import"./CjUQnXIC.js";import"./dS7Q450v.js";const E={class:"apartments"},X={class:"apartments__top"},Z={class:"heading-large apartments__title"},G={class:"apartments__container"},H={class:"apartments__wrapper"},J=["src"],K=["viewBox"],Q=["d","onClick"],aa={class:"apartments__numbers"},ea=["onClick"],sa={__name:"[id]",setup(ta){const{t:u}=L(),{activeBuilding:y,floors:p}=M(),s=R(),$=q(),d=P(),w=v("building_id"),A=v("block_id"),i=g(s.query.building_id||y.value?.id||w.value),_=g(s.query.block_id||A.value);(!i.value||!_.value)&&z("/masterplan"),(!s.query.building_id||!s.query.block_id)&&$.replace({path:d(`/floors/${s.params.id}`),query:{building_id:i.value,block_id:_.value}});const l=c(()=>p.value?.find(a=>a.id===+s.params.id&&a.building_id===+i.value&&a.block_id===+_.value)),m=c(()=>l.value?.block.building_type.name_en),C=c(()=>m.value==="4.4"?"876 550":m.value==="4.1"?"800 500":"401 500"),B=c(()=>[{name:u("masterplan.name"),path:"/masterplan"},{name:`${u("building")} ${i.value}`,path:`/buildings/${i.value}`},{name:`${u("floor")} ${l.value?.floor_number}`,path:`/floors/${s.params.id}`}]),S=()=>{},x=a=>{Y({path:d(`/apartments/${a.id}`)})};return U(()=>{j.create(".apartments__title",{type:"chars",mask:"chars",onSplit:a=>{O.from(a.chars,{yPercent:100,xPercent:-100,stagger:.025,ease:"power2.out"})}})}),(a,oa)=>{const I=N;return r(),o("main",E,[n("div",X,[T(I,{crumbs:e(B)},null,8,["crumbs"]),n("h1",Z,b(a.$t("layouts")),1)]),n("div",G,[n("div",H,[n("img",{src:`${"DOMAIN_URL"in a?a.DOMAIN_URL:e(V)}/${e(l)?.schema}`,alt:"schema",class:"apartments__wrapper-image"},null,8,J),(r(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:`0 0 ${e(C)}`,preserveAspectRatio:"xMidYMid slice",alt:"schema"},[(r(!0),o(f,null,k(e(l)?.apartments,(t,h)=>(r(),o("path",{key:h,d:t.path,class:"apartments__wrapper-path",onClick:na=>x(t)},null,8,Q))),128))],8,K))]),n("div",aa,[(r(!0),o(f,null,k(("countdownArray"in a?a.countdownArray:e(W))(e(p)?.length),t=>(r(),o("button",{key:t,class:F(["apartments__number",{active:t===e(l)?.floor_number}]),onClick:h=>S()},b(t),11,ea))),128))])])])}}},pa=D(sa,[["__scopeId","data-v-8bc015a5"]]);export{pa as default};
