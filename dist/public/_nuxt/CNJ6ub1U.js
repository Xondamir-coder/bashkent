import{_ as N}from"./DZGAXvfy.js";import{_ as B,l as D,R as M,U as F,V as O,S as P,W as h,r as b,X as T,m as U,f as V,c as r,a as o,b as Y,i as l,t as g,F as f,q as k,Y as E,Z as y,o as c,n as W,T as X}from"./B_ExSOLx.js";import{g as z}from"./DKtf60Sy.js";import{S as H}from"./Cpc1cBKW.js";import{u as Q}from"./agmghzv7.js";import"./nU9sOP1c.js";import"./Y7HVKf2d.js";const Z={class:"apartments"},j={class:"apartments__top"},G={class:"heading-large apartments__title"},J={class:"apartments__container"},K={class:"apartments__wrapper"},aa=["src"],ea={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 800 500",preserveAspectRatio:"xMidYMid slice",alt:"schema"},ta=["d","onClick"],sa={class:"apartments__numbers"},oa=["onClick"],na={__name:"[id]",async setup(ia){let _,d;const{t:p}=D(),{activeBuilding:$,activeFloor:t,activeApartment:w}=M(),e=F(),A=O(),m=P(),C=`${y}/api/front`,R=h("building_id"),S=h("block_id"),s=b(e.query.building_id||$.value?.id||R.value),i=b(e.query.block_id||t.value?.block_id||S.value);if((!s.value||!i.value)&&Q("/masterplan"),(!e.query.building_id||!e.query.block_id)&&A.replace({path:m(`/floors/${e.params.id}`),query:{building_id:s.value,block_id:i.value}}),!t.value?.apartments){const{data:a}=([_,d]=T(()=>E(`${C}/floors`,{query:{block_id:i.value,building_id:s.value}},"$aOQ4YXEH2y")),_=await _,d(),_);t.value=a.value?.find(u=>u.id===+e.params.id&&u.building_id===+s.value&&u.block_id===+i.value)}const q=U(()=>[{name:p("masterplan.name"),path:"/masterplan"},{name:`${p("masterplan.house")} ${s.value}`,path:`/buildings/${s.value}`},{name:`${p("floor")} ${t.value?.floor_number}`,path:`/floors/${e.params.id}`}]),I=()=>{},x=a=>{w.value=a,X({path:m(`/apartments/${a.id}`),query:{building_id:s.value,block_id:i.value,floor_id:e.params.id}})};return V(()=>{H.create(".apartments__title",{type:"chars",mask:"chars",onSplit:a=>{z.from(a.chars,{yPercent:100,xPercent:-100,stagger:.025,ease:"power2.out"})}})}),(a,u)=>{const L=N;return c(),r("main",Z,[o("div",j,[Y(L,{crumbs:l(q)},null,8,["crumbs"]),o("h1",G,g(a.$t("layouts")),1)]),o("div",J,[o("div",K,[o("img",{src:`${"DOMAIN_URL"in a?a.DOMAIN_URL:l(y)}/${l(t)?.schema}`,alt:"schema",class:"apartments__wrapper-image"},null,8,aa),(c(),r("svg",ea,[(c(!0),r(f,null,k(l(t)?.apartments,(n,v)=>(c(),r("path",{key:v,d:n.path,class:"apartments__wrapper-path",onClick:ra=>x(n)},null,8,ta))),128))]))]),o("div",sa,[(c(),r(f,null,k([10,9,8,7,6,5,4,3,2,1],n=>o("button",{key:n,class:W(["apartments__number",{active:n===l(t)?.floor_number}]),onClick:v=>I()},g(n),11,oa)),64))])])])}}},va=B(na,[["__scopeId","data-v-12d0f137"]]);export{va as default};
