import{_ as b}from"./CdSlDLMN.js";import{U as g,X as k,V as v,Z as s,v as l,A as x,j as a,$,o as C,W as P}from"./DjQ1e48x.js";import"./DMqr1vxs.js";const y={__name:"[id]",setup(h){const{activeBuilding:o,buildings:n}=g(),c=k(),t=v(),i=new Date(Date.now()+365*24*60*60*1e3),u=s("building_id",{expires:i}),r=s("block_id",{expires:i}),d=s("floor_id",{expires:i});o.value||(o.value=n.value.find(e=>e.id===+c.params.id));const _=l(()=>o.value?.blocks.flatMap(e=>e.floors)),p=l(()=>`${$}/${o.value?.image}`),m=e=>{u.value=e.building_id,r.value=e.block_id,d.value=e.id,P({path:t(`/floors/${e.id}`),query:{building_id:e.building_id,block_id:e.block_id}})};return(e,A)=>{const f=b;return C(),x(f,{paths:a(_),image:a(p),onSelectPath:m},null,8,["paths","image"])}}};export{y as default};
