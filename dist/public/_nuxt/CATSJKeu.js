import{S as k,U as $,r as W,H as C,f as S,g as b,c as o,o as r,b as _,a as p,w as B,k as q,X as L,F as M,q as V,i as m}from"./DfFpkwPJ.js";import{_ as E}from"./Danb8d0b.js";import{g as H}from"./DKtf60Sy.js";import{u as v}from"./DXR6Xohq.js";const N={class:"overlay"},P={class:"overlay__wrapper"},X=["src"],Y={class:"overlay__container",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 900",preserveAspectRatio:"xMidYMid slice"},A=["d","onClick","onPointerenter"],G={__name:"OverlayMap",props:{image:{type:String,required:!0},paths:{type:Array,required:!0},toWhere:{type:String,required:!0}},setup(s){const c=s,a=k(),w=$("building"),d=W(null),i=C({x:0,y:0}),g=e=>{d.value=e},y=e=>{a.name.includes("buildings")?(w.value=a.params.id,v(`/${c.toWhere}/${e.id}?building=${a.params.id}`)):v(`/${c.toWhere}/${e.id}`)},u=e=>{const n=e.clientX/window.innerWidth*2-1,l=e.clientY/window.innerHeight*2-1;i.x=e.clientX+20,i.y=e.clientY+20,H.to(".overlay__wrapper",{x:-n*window.innerWidth*.1,y:-l*window.innerHeight*.1,duration:.8,ease:"power3.out"})};return S(()=>{window.innerWidth<1280||window.addEventListener("pointermove",u)}),b(()=>{window.innerWidth<1280||window.removeEventListener("pointermove",u)}),(e,n)=>{const l=q,h=E;return r(),o("main",N,[_(h,{class:"overlay__close",onClick:n[0]||(n[0]=t=>e.$router.back())},{default:B(()=>[_(l)]),_:1}),p("div",P,[p("img",{src:s.image,alt:"overlay banner",class:"overlay__picture"},null,8,X),(r(),o("svg",Y,[(r(!0),o(M,null,V(s.paths,(t,f)=>(r(),o("path",{key:f,d:t.d,class:"overlay__container-path",onClick:x=>y(t),onPointerenter:x=>g(t)},null,40,A))),128))])),L(e.$slots,"overlay-content",{data:m(d),pointer:m(i)})])])}}};export{G as _};
